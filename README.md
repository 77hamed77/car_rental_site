# مشروع موقع استئجار سيارات (Car Rental Website Project)

هذا المشروع هو تطبيق ويب كامل لاستئجار السيارات، تم بناؤه باستخدام PHP كـ backend، و MySQL كقاعدة بيانات، و HTML, CSS, JavaScript للـ frontend. يهدف المشروع إلى توفير واجهة سهلة للمستخدمين للبحث عن السيارات، مقارنتها، وحجزها، بالإضافة إلى لوحة تحكم للمسؤولين لإدارة محتوى الموقع.

## جدول المحتويات

- [الميزات الرئيسية](#الميزات-الرئيسية)
- [التقنيات المستخدمة](#التقنيات-المستخدمة)
- [هيكلية المشروع](#هيكلية-المشروع)
- [متطلبات التشغيل](#متطلبات-التشغيل)
- [خطوات الإعداد والتشغيل](#خطوات-الإعداد-والتشغيل)
  - [1. استنساخ المستودع (اختياري)](#1-استنساخ-المستودع-اختياري)
  - [2. إعداد بيئة التطوير المحلية](#2-إعداد-بيئة-التطوير-المحلية)
  - [3. إعداد قاعدة البيانات](#3-إعداد-قاعدة-البيانات)
  - [4. تكوين الاتصال بقاعدة البيانات](#4-تكوين-الاتصال-بقاعدة-البيانات)
  - [5. تشغيل المشروع](#5-تشغيل-المشروع)
- [الوصول إلى لوحة تحكم المسؤول](#الوصول-إلى-لوحة-تحكم-المسؤول)
- [ملفات API](#ملفات-api)
- [نقاط للتطوير المستقبلي](#نقاط-للتطوير-المستقبلي)
- [المساهمة](#المساهمة)
- [الترخيص](#الترخيص)

## الميزات الرئيسية

*   **واجهة المستخدم (Frontend):**
    *   صفحة رئيسية جذابة مع نموذج بحث متقدم.
    *   عرض قائمة بالسيارات المتاحة مع فلاتر وخيارات ترتيب.
    *   صفحة تفاصيل لكل سيارة تعرض مواصفاتها وصورها.
    *   نظام حجز سهل للمستخدمين المسجلين.
    *   صفحات ثابتة (من نحن، اتصل بنا، سياسة الخصوصية، الشروط والأحكام، الأسئلة الشائعة).
    *   نظام تسجيل مستخدمين وإنشاء حسابات جديدة.
    *   لوحة تحكم للمستخدم لعرض وإدارة حجوزاته وتعديل ملفه الشخصي.
    *   وظيفة "نسيت كلمة المرور" وإعادة تعيينها.
*   **لوحة تحكم المسؤول (Backend/Admin):**
    *   إدارة كاملة للسيارات (إضافة، تعديل، حذف، صور).
    *   إدارة فئات السيارات.
    *   إدارة مواقع استلام وتسليم السيارات.
    *   إدارة حجوزات العملاء (عرض، تغيير الحالة).
    *   إدارة المستخدمين (عرض، تغيير الأدوار).
    *   عرض تقارير أساسية ومتقدمة حول أداء الموقع.
*   **عام:**
    *   تصميم متجاوب يعمل على مختلف أحجام الشاشات.
    *   استخدام AJAX في بعض الأجزاء لتحسين تجربة المستخدم (مثل التحقق من توفر البريد).
    *   حماية أساسية ضد ثغرات الويب الشائعة (SQL Injection, XSS) عبر استخدام Prepared Statements وتنظيف المدخلات/المخرجات.

## التقنيات المستخدمة

*   **الواجهة الأمامية (Frontend):**
    *   HTML5
    *   CSS3 (مع استخدام متغيرات CSS و Flexbox/Grid)
    *   JavaScript (Vanilla JS, jQuery اختياري)
    *   [Flatpickr.js](https://flatpickr.js.org/) (لمنتقي التاريخ والوقت)
    *   [Font Awesome](https://fontawesome.com/) (للأيقونات)
    *   [Chart.js](https://www.chartjs.org/) (للرسوم البيانية في لوحة التحكم)
*   **الواجهة الخلفية (Backend):**
    *   PHP (إصدار 7.4 أو أحدث موصى به، تم تطويره مع الأخذ في الاعتبار PHP 8+)
*   **قاعدة البيانات:**
    *   MySQL (أو MariaDB)
*   **خادم الويب (بيئة التطوير):**
    *   Apache (عبر XAMPP, WAMP, MAMP)
*   **أدوات أخرى:**
    *   phpMyAdmin (لإدارة قاعدة البيانات)

## هيكلية المشروع

تم تنظيم المشروع في المجلدات التالية:

r_rental/
├── admin/ # لوحة تحكم المسؤول (PHP, HTML, CSS, JS خاص بها)
│ ├── includes/ # ملفات مساعدة للوحة التحكم (header, footer, session check)
│ └── ... # (manage_cars.php, manage_bookings.php, etc.)
├── api/ # ملفات PHP للتعامل مع طلبات AJAX (تعيد JSON)
├── assets/ # ملفات CSS, JS, Images, Fonts العامة للموقع
│ ├── css/
│ ├── js/
│ ├── images/
│ │ └── cars/ # صور السيارات
│ └── fonts/
├── includes/ # ملفات PHP مساعدة مشتركة (db_connect, functions, header, footer, session_check)
├── public/ # (غير مستخدم بشكل رئيسي في هذا الإعداد البسيط، يمكن أن يكون DocumentRoot في إعداد متقدم)
├── templates/ # (غير مستخدم بشكل رئيسي حاليًا، يمكن استخدامه لقوالب HTML منفصلة)
├── index.php # الصفحة الرئيسية للموقع
├── login.php # صفحة تسجيل الدخول
├── register.php # صفحة إنشاء حساب جديد
├── search_results.php # صفحة عرض نتائج البحث
├── car_details.php # صفحة تفاصيل السيارة
├── booking.php # صفحة (أو منطق) معالجة الحجز
├── user_dashboard.php # لوحة تحكم المستخدم
├── about_us.php # صفحة من نحن
├── contact_us.php # صفحة اتصل بنا
├── privacy_policy.php # صفحة سياسة الخصوصية
├── terms_conditions.php # صفحة الشروط والأحكام
├── faq.php # صفحة الأسئلة الشائعة
├── 404.php # صفحة الخطأ 404
├── forgot_password.php # صفحة طلب إعادة تعيين كلمة المرور
├── reset_password.php # صفحة إدخال كلمة المرور الجديدة
└── .htaccess # ملف إعدادات Apache (لتوجيه URL أنظف، أمان أساسي)
## متطلبات التشغيل

*   خادم ويب يدعم PHP (مثل Apache).
*   PHP إصدار 7.4 أو أحدث (مع تمكين امتداد `mysqli` و `mbstring`).
*   قاعدة بيانات MySQL (إصدار 5.7 أو أحدث) أو MariaDB.
*   متصفح ويب حديث.

## خطوات الإعداد والتشغيل

### 1. استنساخ المستودع (اختياري)
إذا كان المشروع على مستودع Git:
```bash
git clone [رابط المستودع الخاص بك] car_rental
cd car_rental
Use code with caution.
أو قم بتنزيل ملفات المشروع وفك ضغطها في مجلد باسم car_rental.
2. إعداد بيئة التطوير المحلية
قم بتثبيت بيئة تطوير محلية مثل XAMPP (موصى به)، WAMP، أو MAMP.
قم بتشغيل خدمات Apache و MySQL من لوحة تحكم البيئة.
3. إعداد قاعدة البيانات
افتح phpMyAdmin (عادةً عبر http://localhost/phpmyadmin).
أنشئ قاعدة بيانات جديدة باسم car_rental_db. اختر ترميز utf8mb4_unicode_ci.
انقر على قاعدة البيانات car_rental_db ثم اذهب إلى تبويب "SQL".
انسخ والصق محتوى ملف database_schema.sql (إذا قمت بإنشاء ملف يحتوي على كل أوامر CREATE TABLE) أو انسخ والصق أوامر CREATE TABLE المنفصلة (لـ users, cars, bookings, locations, car_categories, password_resets) وقم بتنفيذها.
4. تكوين الاتصال بقاعدة البيانات
افتح ملف includes/db_connect.php.
تأكد من أن متغيرات الاتصال ($servername, $username, $password, $dbname) صحيحة لبيئة MySQL المحلية لديك.
الافتراضي لـ XAMPP:
$servername = "localhost";
$username = "root";
$password = ""; // كلمة مرور فارغة
$dbname = "car_rental_db";
Use code with caution.
PHP
5. تشغيل المشروع
انسخ مجلد المشروع car_rental بالكامل إلى المجلد الجذر لخادم الويب (عادةً htdocs في XAMPP).
افتح متصفح الويب واذهب إلى: http://localhost/car_rental/
الوصول إلى لوحة تحكم المسؤول
إنشاء حساب مسؤول:
يمكنك إضافة مستخدم جديد مباشرة في جدول users عبر phpMyAdmin وتعيين حقل role إلى admin.
مهم: يجب تخزين كلمة المرور كقيمة مجزأة (hashed). استخدم سكربت PHP بسيط لإنشاء الهاش:
<?php echo password_hash('YourSecurePassword', PASSWORD_DEFAULT); ?>
Use code with caution.
PHP
ثم انسخ الهاش الناتج إلى حقل كلمة المرور في قاعدة البيانات.
للتشغيل الأولي السريع (وغير الآمن مؤقتًا): يمكنك تعديل login.php لمقارنة كلمة المرور كنص عادي (راجع التعليقات في login.php لهذا الغرض) وإدخال كلمة مرور نصية في قاعدة البيانات. يجب عكس هذا التغيير فورًا بعد الاختبار الأولي.
اذهب إلى http://localhost/car_rental/login.php وسجل الدخول ببيانات اعتماد المسؤول.
بعد تسجيل الدخول، يجب أن يظهر رابط "لوحة الإدارة" في شريط التنقل.
ملفات API
يحتوي مجلد api/ على نقاط نهاية لمعالجة طلبات AJAX:
search_cars.php: للبحث الديناميكي عن السيارات.
get_car_details.php: لجلب تفاصيل سيارة معينة.
book_car.php: لمعالجة طلبات الحجز عبر AJAX.
user_actions.php: لإجراءات المستخدم مثل التحقق من توفر البريد أو تحديث الملف الشخصي.
نقاط للتطوير المستقبلي
نظام دفع إلكتروني متكامل.
نظام تقييم ومراجعات للسيارات.
دعم متعدد اللغات.
تحسينات أمان متقدمة (CSRF protection, rate limiting).
نظام إشعارات (بريد إلكتروني للمستخدمين والمسؤولين عند الحجز، إلخ) باستخدام مكتبة مثل PHPMailer.
تحسينات على واجهة المستخدم وتجربة المستخدم.
تصدير التقارير من لوحة التحكم.
تطبيق اختبارات وحدات (Unit Tests) واختبارات تكامل (Integration Tests).
المساهمة
إذا كنت ترغب في المساهمة في هذا المشروع (إذا كان مفتوح المصدر)، يرجى اتباع الإرشادات التالية:
قم بعمل Fork للمستودع.
أنشئ فرعًا جديدًا لميزتك (git checkout -b feature/AmazingFeature).
قم بعمل Commit لتغييراتك (git commit -m 'Add some AmazingFeature').
قم بدفع التغييرات إلى الفرع (git push origin feature/AmazingFeature).
افتح طلب سحب (Pull Request).
الترخيص
هذا المشروع مرخص تحت [اسم الترخيص، مثال: MIT License]. انظر ملف LICENSE (إذا وجد) لمزيد من التفاصيل.
